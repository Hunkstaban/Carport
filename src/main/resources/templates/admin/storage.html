<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link rel="stylesheet" href="../../public/css/adminStorageStyle.css" th:href="@{/css/adminStorageStyle.css}">
</head>
<body>

<header>

<div class="top-nav">

    <form method="get">

    <button type="submit" formaction="viewAllOrders">Orders</button>
    <button >Forespørgsler</button>
    <button type="submit" formaction="storagePage">Lager</button>
    </form>

</div>

</header>


<div id="page">
    <div class="centerpage">

        <div class="flex-filter">

            <form method="post" class="filter-menu">
                <div>
                    <button type="submit" name="filter" formaction="storagePage">Alle</button>
                </div>
                <div th:each="type : ${filtersList}">
                    <button type="submit" name="filter" th:value="${type.typeID}" formaction="filterByType"
                            th:text="${type.name}"></button>
                </div>
            </form>
        </div>


        <div class="table-container">

            <table class="products-table">
                <thead>
                <tr>
                    <th>Vare Nr.</th>
                    <th>Navn</th>
                    <th>Beskrivelse</th>
                    <th>Vare type</th>
                    <th>Bredde</th>
                    <th>Højde</th>
                    <th>Længde</th>
                    <th>Enhed</th>
                    <th>Enhed Pris</th>
                    <th>Lagerbeholdning</th>
                </tr>
                </thead>

                <tbody>
<!--                fills the table with data from the product list on each row from the database-->
<!--                some inputs are hidden and not displayed but still sent with the form so all data from the object-->
<!--                can be used to update in the BD-->

                <tr th:each="product : ${productList}">
                    <form method="post">
                        <td><input type="text" name="productID" th:value="${product.productID}"/></td>
                        <td><input type="text" name="name" th:value="${product.name}"/></td>
                        <td><input type="text" name="description" th:value="${product.description}"></td>
                        <td><input type="text" th:value="${product.type.name}"/></td>
                        <input type="hidden" name="typeID" th:value="${product.type.typeID}">
                        <td><input type="text" name="width" th:value="${product.width}"/></td>
                        <td><input type="text" name="height" th:value="${product.height}"/></td>
                        <td><input type="text" name="length" th:value="${product.length}"/></td>
                        <td><input type="text"  th:value="${product.unit.name}"/></td>
                        <input type="hidden" name="unitID" th:value="${product.unit.unitID}">
                        <td><input type="text" name="price" th:value="${product.price}"/></td>
                        <input type="hidden" name="costPrice" th:value="${product.costPrice}">
                        <td><input type="text" name="quantity"  th:value="${product.quantity}"/></td>
                        <td><button type="submit" formaction="updateProduct">Opdater</button></td>
                    </form>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<form method="post">

    <label for="product-name">Navn</label>
    <input type="text" id="product-name" name="product-name" maxlength="100" required>

    <label for="description">Beskrivelse</label>
    <input type="text" id="description" name="description" maxlength="250">

    <label for="type-id">Vare Type</label>
    <input type="text" id="type-id" name="type-id">

    <label for="unit-id">Enhed</label>
    <input type="text" id="unit-id" name="unit-id">

    <label for="cost-price">Kost Pris</label>
    <input type="number" id="cost-price" name="cost-price" required>

    <label for="price">Pris</label>
    <input type="number" id="price" name="price" required>

    <label for="length">Længde</label>
    <input type="number" id="length" name="length">

    <label for="width">Bredde</label>
    <input type="number" id="width" name="width">

    <label for="height">Højde</label>
    <input type="number" id="height" name="height">

    <label for="amount">Lagerbeholdning</label>
    <input type="number" id="amount" name="amount" value="0">

    <button type="submit" formaction="addProduct">Tilføj</button>

</form>


</body>
</html>