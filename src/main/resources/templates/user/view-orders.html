<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--    <link rel="stylesheet" href="../../public/css/admin-orders-style.css" th:href="@{/css/admin-orders-style.css}">-->
    <link rel="stylesheet" href="../../public/css/user/view-orders-style.css" th:href="@{/css/user/view-orders-style.css}">
    <link rel="stylesheet" href="../../public/css/global-styles.css" th:href="@{/css/global-styles.css}">

    <link href="https://fonts.cdnfonts.com/css/segoe-ui-variable" rel="stylesheet">
</head>
<body>


<div class="page">

    <div class="elements">

        <div>
            <h1 class="fontfix" th:text="'Velkommen, ' + ${#strings.capitalize(session.currentUser.name)}"></h1>
            <h2 class="fontfix">Her kan du se dine ordre</h2>
        </div>

        <div class="content-box" th:each="order : ${orderList}">
            <div class="top-elements">

                <div class="left-side-elements">

                    <div class="info">
                        <p class="fbody fontfix">Ordrenr.</p>
                        <p class="fbody fontfix" th:text="${order.orderID}"></p>
                    </div>

                    <div class="info">
                        <p class="fbody fontfix">Status</p>
                        <p class="fbody fontfix" th:text="${order.status.name}"></p>
                    </div>

                    <div class="info">
                        <p class="fbody fontfix">Bestillingsdato</p>
                        <p class="fbody fontfix" th:text="${order.date}"></p>
                    </div>
                </div>

                <div class="right-side-elements">
                    <form action="post">
                        <button th:if="${order.status.statusID == 2}" formaction="orderPaid" th:value="${order.orderID}"
                                class="btn-150px fbody"> Betal
                        </button>
                    </form>
                    <a class="btn-150px btn-link fbody" th:href="'#popup-details-' + ${order.orderID}">Ordredetaljer</a>
                    <a class="btn-150px btn-link fbody" th:href="'#popup-drawing-' + ${order.orderID}">Se Tegning</a>
                    <a th:if="${order.status.statusID >= 3}" class="btn-150px btn-link fbody"
                       th:href="'#popup-parts-list-' + ${order.orderID}">Se Stykliste</a>
                    <button th:if="${order.status.statusID < 3}" class="btn-150px fbody" id="grey">Se Stykliste</button>

                    <!------------Popups------------>
                    <div th:id="'popup-details-' + ${order.orderID}" class="popup">
                        <div class="content">
                            <div>Carport LÃ¦ngde: <span th:text="${order.carportLength.length}"></span> mm</div>
                            <div>Carport Bredde: <span th:text="${order.carportWidth.width}"></span> mm</div>
                            <div>Skur: <span th:text="${order.shed} ? 'Ja' : 'Nej'"></span></div>
                            <div>Kommentar: <span th:text="${order.userRemarks}"></span></div>
                            <div>Konstruktionsbeskrivelse: <span th:text="${order.description}"></span></div>

                            <a href="#"
                               style="position: absolute; top: 10px; right: 10px; color: #000000; font-size: 30px; text-decoration: none;">&times;</a>
                        </div>
                    </div>

                    <div th:id="'popup-drawing-' + ${order.orderID}" class="popup">
                        <div class="content">
                            <div>
                                <p th:utext="'Tegning: ' + ${order.svg}"></p>
                            </div>

                            <a href="#"
                               style="position: absolute; top: 10px; right: 10px; color: #000000; font-size: 30px; text-decoration: none;">&times;</a>
                        </div>
                    </div>

                    <div th:id="'popup-parts-list-' + ${order.orderID}" class="popup">
                        <div class="content">
                            <div>
                                <p th:text="'Stykliste: ' + ${order.productListRaw}"></p>
                            </div>
                            <a href="#" style="position: absolute; top: 10px; right: 10px; color: #000000; font-size: 30px; text-decoration: none;">&times;</a>
                        </div>
                    </div>

                </div>
            </div>

            <div class="bottom-elements">
                <p class="fbody fontfix">DOBBELT CARPORT 6,00X4,80 M CAR01DU UDEN MIDTERSTOLPE - FLADT TAG</p>
                <p class="h2 fontfix" th:text="${order.totalPriceRaw}">kr inkl. moms</p>
            </div>

        </div>

    </div>

</div>

</body>
</html>